<link rel="stylesheet" href="vendors/typicons/typicons.css">
<link rel="stylesheet" href="vendors/css/vendor.bundle.base.css">
<link rel="stylesheet" href="css/vertical-layout-light/style.css">
<link rel="shortcut icon" href="images/favicon.png" />

{% if not isAuthenticated or utilisateur.role != 'ROLE_ADMIN' %}
  <!-- Non-admin or non-authenticated user view -->
  <div class="container">
    <div class="row justify-content-center mt-5">
      <div class="col-md-6 text-center">
        <h2 class="text-danger">Access Restricted</h2>
        <p class="text-muted">You must be an admin to access this page. Please log in or contact your administrator.</p>
        <button class="btn btn-primary" type="button" onclick="window.location.href='{{ path('sign_in') }}'">Login</button>
      </div>
    </div>
  </div>

{% else %}
  <!-- Admin user view -->
  <html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Admin</title>
    <link rel="stylesheet" href="vendors/typicons/typicons.css">
    <link rel="stylesheet" href="vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="css/vertical-layout-light/style.css">
    <link rel="shortcut icon" href="images/favicon.png" />
  </head>

  <body>
    <div class="container-scroller">
      {% include 'partials/_navbar.html.twig' %}
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-3">
            {% include 'partials/_sidebar.html.twig' %}
          </div>
          <div class="col-md-9" id="editUserContent" style="display:none;">
            {# Initially hidden content #}
            {% include 'Back/AdminUser/EditUser.html.twig' %}
          </div>
          <div class="col-md-9" id="editproductsContent" style="display:none;">
            {# Initially hidden content #}
            {% include 'Back/Adminproducts/editproducts.html.twig' %}
        </div>
        <div class="col-md-9" id="editcheckoutContent" style="display:none;">
            {# Initially hidden content #}
            {% include 'Back/Admincheckout/checkoutback.html.twig' %}
        </div>
        <div class="col-md-9" id="editDepotContent" style="display:none;">
            {# Initially hidden content #}
            {% include 'Back/AdminDepot/depot_dashboard.html.twig' %}
          </div>
      </div>

      {% include 'partials/_footer.html.twig' %}
    </div>
    <script src="vendors/js/vendor.bundle.base.js"></script>
    <script src="js/off-canvas.js"></script>
    <script src="js/hoverable-collapse.js"></script>
    <script src="js/template.js"></script>

    <script>//VERY IMPORTANT, controls pageination/page switching, a condition for every button clicked triggers the
    // the display of a page and the disappearnace of all others
      // JavaScript to show EditUser content when button is clicked
      document.getElementById('editUserButton').addEventListener('click', function() {
        document.getElementById('editUserContent').style.display = 'block';
        document.getElementById('editproductsContent').style.display = 'none';
        document.getElementById('editcheckoutContent').style.display = 'none';
        document.getElementById('editDepotContent').style.display = 'none';
      });
       document.getElementById('editproductButton').addEventListener('click', function() {
        document.getElementById('editproductsContent').style.display = 'block';
        document.getElementById('editUserContent').style.display = 'none';
        document.getElementById('editcheckoutContent').style.display = 'none';
        document.getElementById('editDepotContent').style.display = 'none';

      });
       // JavaScript to show editcheckoutsButtons content when button is clicked
      document.getElementById('editcheckoutsButton').addEventListener('click', function() {
        document.getElementById('editcheckoutContent').style.display = 'block';
        document.getElementById('editUserContent').style.display = 'none';
        document.getElementById('editproductsContent').style.display = 'none';
        document.getElementById('editDepotContent').style.display = 'none';
      });
      // JavaScript to switch to depot_dashboard content when button is clicked
      document.getElementById('editDepotButton').addEventListener('click', function() {
        document.getElementById('editDepotContent').style.display = 'block';
        document.getElementById('editUserContent').style.display = 'none';
        document.getElementById('editproductsContent').style.display = 'none';
        document.getElementById('editcheckoutContent').style.display = 'none';
      });
      
    </script>
    
      
    </script>
    
  </body>

  </html>

{% endif %}
